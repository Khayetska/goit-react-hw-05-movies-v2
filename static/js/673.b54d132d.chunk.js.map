{"version":3,"file":"static/js/673.b54d132d.chunk.js","mappings":"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","sources":["api/api.js","webpack://react-homework-template/./src/components/Movies/Movies.module.css?9f30","components/Movies/Movies.jsx","pages/MoviesPage.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3';\nconst KEY = 'bc1a38dbf70e6a30c3ffc04bb2eb445c';\n\nexport const getTrending = async () => {\n  try {\n    const data = await fetch(\n      `${BASE_URL}/trending/movie/day?language=en-US&api_key=${KEY}`\n    );\n    return await data.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getMovies = async search => {\n  try {\n    const data = await fetch(\n      `${BASE_URL}/search/movie?api_key=${KEY}&query=${search}&page=1`\n    );\n    return await data.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getDetails = async movieId => {\n  try {\n    const data = await fetch(`${BASE_URL}/movie/${movieId}?api_key=${KEY}`);\n    return await data.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getCast = async movieId => {\n  try {\n    const data = await fetch(\n      `${BASE_URL}/movie/${movieId}/credits?api_key=${KEY}`\n    );\n    return await data.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getReviews = async movieId => {\n  try {\n    const data = await fetch(\n      `${BASE_URL}/movie/${movieId}/reviews?api_key=${KEY}`\n    );\n    return await data.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"movies_list\":\"Movies_movies_list__dUKOB\",\"movies_item\":\"Movies_movies_item__xO9oe\",\"search_form\":\"Movies_search_form__GfWPy\",\"search_fild\":\"Movies_search_fild__r6DfM\",\"search_btn\":\"Movies_search_btn__Em850\"};","import { useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { getMovies } from 'api/api';\nimport css from './Movies.module.css';\n\nconst { search_form, search_fild, search_btn, movies_list, movies_item } = css;\n\nfunction Movies() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [movies, setMovies] = useState([]);\n  const location = useLocation();\n\n  useEffect(() => {\n    const search = searchParams.get('query') ?? [];\n    async function fetch() {\n      const { results } = await getMovies(search);\n      setMovies(results);\n    }\n    fetch();\n  }, [searchParams]);\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n\n    const { value } = evt.target.elements.search;\n    setSearchParams({ query: value.trim() });\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} className={search_form}>\n        <input\n          type=\"text\"\n          name=\"search\"\n          className={search_fild}\n          autoComplete=\"off\"\n          placeholder=\"Search movies\"\n        />\n        <button type=\"submit\" className={search_btn}>\n          Search\n        </button>\n      </form>\n      <ul className={movies_list}>\n        {movies.map(movie => {\n          return (\n            <Link\n              to={`${movie.id}`}\n              state={{ from: location }}\n              key={movie.id}\n              className={movies_item}\n            >\n              <li>{movie.original_title ?? movie.original_name}</li>\n            </Link>\n          );\n        })}\n      </ul>\n    </>\n  );\n}\n\nexport default Movies;\n","import React from 'react';\nimport Movies from 'components/Movies/Movies';\n\nfunction MoviesPage() {\n  return <Movies />;\n}\n\nexport default MoviesPage;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["BASE_URL","KEY","getTrending","fetch","data","json","console","log","getMovies","search","getDetails","movieId","getCast","getReviews","search_form","css","search_fild","search_btn","movies_list","movies_item","useSearchParams","searchParams","setSearchParams","useState","movies","setMovies","location","useLocation","useEffect","get","results","onSubmit","evt","preventDefault","value","target","elements","query","trim","className","type","name","autoComplete","placeholder","map","movie","to","id","state","from","original_title","original_name","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}