{"version":3,"file":"static/js/593.23d863f5.chunk.js","mappings":"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","sources":["api/api.js","webpack://react-homework-template/./src/components/MovieInfo/MovieInfo.module.css?df02","components/MovieInfo/MovieInfo.jsx","pages/MovieDetailsPage.jsx"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3';\nconst KEY = 'bc1a38dbf70e6a30c3ffc04bb2eb445c';\n\nexport const getTrending = async () => {\n  try {\n    const data = await fetch(\n      `${BASE_URL}/trending/movie/day?language=en-US&api_key=${KEY}`\n    );\n    return await data.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getMovies = async search => {\n  try {\n    const data = await fetch(\n      `${BASE_URL}/search/movie?api_key=${KEY}&query=${search}&page=1`\n    );\n    return await data.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getDetails = async movieId => {\n  try {\n    const data = await fetch(`${BASE_URL}/movie/${movieId}?api_key=${KEY}`);\n    return await data.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getCast = async movieId => {\n  try {\n    const data = await fetch(\n      `${BASE_URL}/movie/${movieId}/credits?api_key=${KEY}`\n    );\n    return await data.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getReviews = async movieId => {\n  try {\n    const data = await fetch(\n      `${BASE_URL}/movie/${movieId}/reviews?api_key=${KEY}`\n    );\n    return await data.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"backBtn\":\"MovieInfo_backBtn__1xYAV\",\"wrapper\":\"MovieInfo_wrapper__TIELc\",\"movie_poster\":\"MovieInfo_movie_poster__3ORFn\",\"movie_title\":\"MovieInfo_movie_title__tCDh0\",\"movie_title_accent\":\"MovieInfo_movie_title_accent__FRGBA\",\"countries_list\":\"MovieInfo_countries_list__8kCVm\",\"field_title\":\"MovieInfo_field_title__l14aX\",\"additional_info\":\"MovieInfo_additional_info__1WuCf\",\"addInfo_title\":\"MovieInfo_addInfo_title__XWO74\",\"addInfo_list\":\"MovieInfo_addInfo_list__h9oEm\",\"addInfo_item\":\"MovieInfo_addInfo_item__h4j7+\"};","import { Suspense, useEffect, useRef, useState } from 'react';\nimport { Link, Outlet, useParams, useLocation } from 'react-router-dom';\nimport { VscPreview } from 'react-icons/vsc';\nimport { BsPersonBoundingBox } from 'react-icons/bs';\nimport { getDetails } from 'api/api';\nimport css from './MovieInfo.module.css';\nimport poster from '../../images/no-image.png';\n\nconst {\n  backBtn,\n  wrapper,\n  movie_poster,\n  info_wrapper,\n  movie_title,\n  movie_title_accent,\n  field_title,\n  additional_info,\n  addInfo_title,\n  addInfo_list,\n  addInfo_item,\n} = css;\n\nfunction MovieInfo() {\n  const [movie, setMovie] = useState({});\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backLinkLocation = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    async function fetch() {\n      const data = await getDetails(movieId);\n      setMovie(data);\n    }\n    fetch();\n  }, [movieId]);\n\n  const {\n    title,\n    release_date,\n    overview,\n    vote_average,\n    production_countries,\n    genres,\n    poster_path,\n    id,\n  } = movie;\n\n  return (\n    <>\n      <Link className={backBtn} to={backLinkLocation.current}>\n        Go back\n      </Link>\n      <div className={wrapper} key={id}>\n        <img\n          src={\n            poster_path\n              ? `https://image.tmdb.org/t/p/w500/${poster_path}`\n              : poster\n          }\n          alt={`${title} movie poster`}\n          className={movie_poster}\n        />\n        <div className={info_wrapper}>\n          <h2 className={movie_title}>\n            <span className={movie_title_accent}> {title} </span>(\n            {release_date && `${release_date.slice(0, 4)}`})\n          </h2>\n          <p>\n            <b>User score:</b> {Math.round(vote_average * 10)}%\n          </p>\n          <p>\n            <b>Country: </b>\n            {production_countries?.length > 0\n              ? production_countries.map(el => el.name).join(', ')\n              : 'There is no info'}\n          </p>\n          <p>\n            <b>Genres: </b>{' '}\n            {genres?.length > 0\n              ? genres.map(genre => genre.name).join(', ')\n              : 'There is no info'}\n          </p>\n          <h3 className={field_title}>Overview:</h3>\n          <p>\n            {overview\n              ? overview\n              : 'Sorry, there is no information about this movie'}\n          </p>\n        </div>\n      </div>\n      <div className={additional_info}>\n        <h4 className={addInfo_title}>Additional information</h4>\n        <ul className={addInfo_list}>\n          <Link to=\"cast\" className={addInfo_item}>\n            <BsPersonBoundingBox />\n            Cast\n          </Link>\n          <Link to=\"reviews\" className={addInfo_item}>\n            <VscPreview />\n            Reviews\n          </Link>\n        </ul>\n      </div>\n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n}\n\nexport default MovieInfo;\n","import MovieInfo from 'components/MovieInfo/MovieInfo';\nimport React from 'react';\n\nfunction MovieDetails() {\n  return <MovieInfo />;\n}\n\nexport default MovieDetails;\n"],"names":["BASE_URL","KEY","getTrending","fetch","data","json","console","log","getMovies","search","getDetails","movieId","getCast","getReviews","backBtn","css","wrapper","movie_poster","info_wrapper","movie_title","movie_title_accent","field_title","additional_info","addInfo_title","addInfo_list","addInfo_item","useState","movie","setMovie","useParams","location","useLocation","backLinkLocation","useRef","state","from","useEffect","title","release_date","overview","vote_average","production_countries","genres","poster_path","id","className","to","current","src","poster","alt","slice","Math","round","length","map","el","name","join","genre","Suspense","fallback"],"sourceRoot":""}