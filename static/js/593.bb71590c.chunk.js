"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[593],{713:function(e,n,t){t.d(n,{Hg:function(){return s},IQ:function(){return f},Jh:function(){return p},XT:function(){return u},s_:function(){return l}});var r=t(861),c=t(757),a=t.n(c),o="https://api.themoviedb.org/3",i="bc1a38dbf70e6a30c3ffc04bb2eb445c",s=function(){var e=(0,r.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o,"/trending/movie/day?language=en-US&api_key=").concat(i));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o,"/search/movie?api_key=").concat(i,"&query=").concat(n,"&page=1"));case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o,"/movie/").concat(n,"?api_key=").concat(i));case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o,"/movie/").concat(n,"/credits?api_key=").concat(i));case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o,"/movie/").concat(n,"/reviews?api_key=").concat(i));case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}()},593:function(e,n,t){t.r(n),t.d(n,{default:function(){return C}});var r=t(861),c=t(439),a=t(757),o=t.n(a),i=t(791),s=t(689),u=t(87),l=t(651),f=t(126),p=t(713),d={backBtn:"MovieInfo_backBtn__1xYAV",wrapper:"MovieInfo_wrapper__TIELc",movie_poster:"MovieInfo_movie_poster__3ORFn",movie_title:"MovieInfo_movie_title__tCDh0",movie_title_accent:"MovieInfo_movie_title_accent__FRGBA",countries_list:"MovieInfo_countries_list__8kCVm",field_title:"MovieInfo_field_title__l14aX",additional_info:"MovieInfo_additional_info__1WuCf",addInfo_title:"MovieInfo_addInfo_title__XWO74",addInfo_list:"MovieInfo_addInfo_list__h9oEm",addInfo_item:"MovieInfo_addInfo_item__h4j7+"},v=t(828),_=t(184),h=d.backBtn,m=d.wrapper,x=d.movie_poster,j=d.info_wrapper,w=d.movie_title,b=d.movie_title_accent,g=d.field_title,k=d.additional_info,I=d.addInfo_title,y=d.addInfo_list,N=d.addInfo_item;var M=function(){var e,n,t=(0,i.useState)(null),a=(0,c.Z)(t,2),d=a[0],M=a[1],C=(0,s.UO)().movieId,Z=(0,s.TH)(),U=(0,i.useRef)(null!==(e=null===(n=Z.state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/");if((0,i.useEffect)((function(){function e(){return(e=(0,r.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.s_)(C);case 2:n=e.sent,M(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[C]),d){var T=d.title,B=d.release_date,O=d.overview,R=d.vote_average,S=d.production_countries,A=d.genres,E=d.poster_path,F=d.id;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(u.rU,{className:h,to:U.current,children:"Go back"}),(0,_.jsxs)("div",{className:m,children:[(0,_.jsx)("img",{src:E?"https://image.tmdb.org/t/p/w500/".concat(E):v,alt:"".concat(T," movie poster"),className:x}),(0,_.jsxs)("div",{className:j,children:[(0,_.jsxs)("h2",{className:w,children:[(0,_.jsxs)("span",{className:b,children:[" ",T," "]}),"(",B&&"".concat(B.slice(0,4)),")"]}),(0,_.jsxs)("p",{children:[(0,_.jsx)("b",{children:"User score:"})," ",Math.round(10*R),"%"]}),(0,_.jsxs)("p",{children:[(0,_.jsx)("b",{children:"Country: "}),(null===S||void 0===S?void 0:S.length)>0?S.map((function(e){return e.name})).join(", "):"There is no info"]}),(0,_.jsxs)("p",{children:[(0,_.jsx)("b",{children:"Genres: "})," ",(null===A||void 0===A?void 0:A.length)>0?A.map((function(e){return e.name})).join(", "):"There is no info"]}),(0,_.jsx)("h3",{className:g,children:"Overview:"}),(0,_.jsx)("p",{children:O||"Sorry, there is no information about this movie"})]})]},F),(0,_.jsxs)("div",{className:k,children:[(0,_.jsx)("h4",{className:I,children:"Additional information"}),(0,_.jsxs)("ul",{className:y,children:[(0,_.jsxs)(u.rU,{to:"cast",className:N,children:[(0,_.jsx)(f.gW$,{}),"Cast"]}),(0,_.jsxs)(u.rU,{to:"reviews",className:N,children:[(0,_.jsx)(l.$YN,{}),"Reviews"]})]})]}),(0,_.jsx)(i.Suspense,{fallback:(0,_.jsx)("div",{children:"Loading..."}),children:(0,_.jsx)(s.j3,{})})]})}};var C=function(){return(0,_.jsx)(M,{})}},828:function(e,n,t){e.exports=t.p+"static/media/no-image.baba1a7394e8054d69cf.png"}}]);
//# sourceMappingURL=593.bb71590c.chunk.js.map